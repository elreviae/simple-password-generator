<!DOCTYPE html>
<html lang="en" data-bs-theme="dark">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="Simple Password Generator" />
    <meta name="author" content="Maxime DES TOUCHES" />
    <title>
        Simple Password Generator
    </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
        integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
        integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<style>
    .bg-dark1 {
        background-color: #22252a;
    }

    .bg-dark2 {
        background-color: #202328;
    }
</style>


<body class="bg-dark1 text-light">
    <main>
        <div class="container-md">
            <h2 class="mt-4 mb-4"><i class="fa-solid fa-lock text-primary"></i> Simple Password Generator</h2>

            <div class="card mb-4 p-4 shadow bg-dark2 border-secondary">
                <div class="row justify-content-center">
                    <div class="col-md">
                        <label class="labelgenmdp text-light" for="nbMotsDePasse">Number of passwords. Default:
                            1</label>
                        <input type="number" id="nbMotsDePasse"
                            class="resetValue nbMotsDePasse form-control bg-dark text-light border-secondary" value="1"
                            min="1" max="5000">
                    </div>

                    <div class="col-md">
                        <label class="labelgenmdp text-light" for="longueur">Password length. Default is
                            8.</label>
                        <input type="number" id="longueur"
                            class="resetValue nbCharact form-control bg-dark text-light border-secondary" value="8"
                            min="1" max="5000">

                        <label for="nombres" class="text-light">Include Numbers</label>
                        <input type="checkbox" id="nombres" class="form-check-input" checked />

                        <label class="w3-text-dark-grey text-light" for="symboles">Include Symbols</label>
                        <input type="checkbox" id="symboles" class="form-check-input" checked />
                    </div>
                </div>

                <div class="d-flex justify-content-around mt-4">
                    <input id="generer" class="btn btn-outline-primary" type="button" value="Generate">
                    <button id="reset" class="btn btn-outline-warning">Reset</button>
                    <input id="copy" class="btn btn-outline-info" type="button" value="Copy">
                </div>

                <div class="row justify-content-center">
                    <div class="col-md">
                        <label for="motdepasse"></label>
                        <textarea id="motdepasse" class="resetValue form-control bg-dark1 text-light border-secondary"
                            rows="12"></textarea>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <footer class="py-4 bg-dark1 mt-auto">
        <div class="container-fluid px-4">
            <div class="d-flex justify-content-center">
                <div class="text-muted">
                    &copy; Maxime DES TOUCHES - <span id="year"></span> | <a target="_blank"
                        href="https://github.com/elreviae" class="text-blue"> <i class="fa-brands fa-github"></i> </a>
                </div>
            </div>
        </div>
    </footer>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.2/js/bootstrap.bundle.min.js"
        integrity="sha512-X/YkDZyjTf4wyc2Vy16YGCPHwAY8rZJY+POgokZjQB2mhIRFJCckEGc6YyX9eNsPfn0PzThEuNs+uaomE5CO6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>

    <script>
        const d = new Date();
        let year = d.getFullYear();
        document.getElementById("year").innerHTML = year;
    </script>


    <script>
        // ---------------------- Générateur de mot de passe
        // Copie contenu textarea
        document.querySelector("#copy").onclick = function () {
            document.querySelector("textarea").select();
            document.execCommand('copy');
        };

        // Événement press Enter dans input
        const nbMotsDePasse = document.querySelector("#nbMotsDePasse");

        nbMotsDePasse.addEventListener("keypress", function (event) {
            if (event.which === 13) {
                event.preventDefault();
                genererMotdePasse();
            }
        });

        const longueur = document.querySelector("#longueur");

        longueur.addEventListener("keypress", function (event) {
            if (event.which === 13) {
                event.preventDefault();
                genererMotdePasse();
            }
        });

        // Appel fonction bouton genererMotdePasse
        const generer = document.querySelector("#generer");

        generer.addEventListener("click", function () {
            genererMotdePasse();
        });

        // Bouton Reset
        const reset = document.querySelector("#reset");
        const motdepasse = document.querySelector("#motdepasse");
        const resetnbMotsDePasse = document.querySelector("#nbMotsDePasse");
        const resetlongueur = document.querySelector("#longueur");

        reset.addEventListener("click", function () {
            motdepasse.innerHTML = "";
            resetnbMotsDePasse.value = "1";
            resetlongueur.value = "8";
        });

        // Fonctions génération MdP
        function generateRandomString(length) {
            var random = '';
            var alpha = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";
            var nombres = "0123456789";
            var symboles = "@#$%^*()+={}[]:;<>?.";
            var nombresChecked = document.querySelector('#nombres').checked;
            var symbolesChecked = document.querySelector('#symboles').checked;

            if (nombresChecked && symbolesChecked) {
                alpha += nombres += symboles;
            } else if (nombresChecked && !symbolesChecked) {
                alpha += nombres;
            } else if (!nombresChecked && symbolesChecked) {
                alpha += symboles;
            } else {
                alpha;
            }

            for (let i = 0; i < length; i++) {
                var motdepasse = alpha;
                var randomPass = Math.floor(Math.random() * motdepasse.length);
                random += motdepasse[randomPass];
            }

            // console.log(random)
            var textareaMotDePasse = document.querySelector('#motdepasse');
            textareaMotDePasse.innerHTML += random + '\n';
        }

        function genererMotdePasse() {
            var longueurCaracteres = document.querySelector('#longueur').value;
            var nbMotsDePasse = document.querySelector('#nbMotsDePasse').value;
            for (let i = 1; i <= nbMotsDePasse; i++) {
                generateRandomString(longueurCaracteres);
            }
        }
    </script>
</body>

</html>
